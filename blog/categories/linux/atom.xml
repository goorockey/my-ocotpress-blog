<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[category: linux | Goorockey's Life]]></title>
  <link href="http://goorockey.github.com/blog/categories/linux/atom.xml" rel="self"/>
  <link href="http://goorockey.github.com/"/>
  <updated>2012-09-10T14:12:53+08:00</updated>
  <id>http://goorockey.github.com/</id>
  <author>
    <name><![CDATA[Goorockey]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[再次用linux做宿主系统]]></title>
    <link href="http://goorockey.github.com/blogs/77180"/>
    <updated>2012-02-29T00:00:00+08:00</updated>
    <id>http://goorockey.github.com/blogs/77180</id>
    <content type="html"><![CDATA[<h3><strong>1、背景</strong></h3>
<p>之前就试过几次想把linux作为宿主来玩，但都因为舍弃不了一些windows下的软件而放弃了，例如wiz，qq等都是我常用的软件。试过wine，但总是有点错误，不完美。</p>

<p>最近也在微博上收集意见，发现用linux做宿主系统的人还是蛮多的。其实仔细想想，归根结底还是自己linux的操作还不熟练。</p>

<p>还好最近一段时间自己多了在linux的工作，这几天又下定决心一次装了linux做宿主来玩了。然后就想写个blog记录一下。</p>

<!--more-->
<h3><strong>2、系统</strong></h3>
<p>这次选的linux的linux mint(64bit)，一个基于ubuntu的linux发行版。</p>

<p>官方说其目标是成为有windows那样市场占有率的linux发行版。</p>

<p>我不大喜欢ubuntu现在的natty，所以就在虚拟机试用了一下linux mint，感觉比ubuntu方便。</p>

<p> </p>
<h3><strong>3、工具</strong></h3>
<ul>
	<li>浏览器：firefox。一直用firefox，插件强大。</li>
	<li>知识管理：evernote。本地用nevernote，它是evernote的linux版；网页摘取用firefox的evernote clip。</li>
	<li>X windows:awesome。一种平铺窗口管理器。本来想用musca，但我没编译成功。唉~~</li>
	<li>BT下载：utorrent。utorrent有linux版，但是web gui版。</li>
	<li>虚拟机：virtualbox。在virtualbox装了xp，感觉比vmware快多了。。</li>
</ul>
<p> </p>
<h3><strong>4、日常应用</strong></h3>
<p>（1）网络管理</p>

<p>ubuntu(包括linux mint)现在都是默认用NetworkManager来管理网络。我用了几次都不适应。这次立刻就把它卸载了，直接用脚本来管理网络。卸载命令：</p>
<blockquote>$ sudo apt-get --purge remove network-manager

$ sudo apt-get --purge remove network-manager-gnome</blockquote>
<p>然后就直接对/etc/network/interfaces和/etc/resolv.conf做修改，来配置网络了。</p>

<p> </p>

<p>（2）ADSL连接</p>

<p>寝室是用电信上网，如果不用路由拨号，就要自己电脑直接连到网口，自己拨号。</p>

<p>配置命令：</p>
<blockquote>$ sudo pppoeconf</blockquote>
<p>在弹出的窗口中输入帐号和密码，注意之后有个提示选择是否开机时就自动拨号，如果不时总是直接连网口的，就不选吧。</p>

<p>配置完回到命令行，输入拨号命令就可以上网了：</p>
<blockquote>$ sudo pon dsl-provider</blockquote>
<p>断开链接的命令则是：</p>
<blockquote>$ sudo pppoe-stop</blockquote>
<p> </p>

<p>（3）连wifi</p>
<blockquote><span><a class="smarterwiki-linkify" href="http://www.jiangmiao.org/blog/1781.html">http://www.jiangmiao.org/blog/1781.html</a></span></blockquote>
<p> </p>

<p>（4）做AP，共享wifi</p>
<blockquote><span><a class="smarterwiki-linkify" href="http://blog.csdn.net/feifei454498130/article/details/6642140">http://blog.csdn.net/feifei454498130/article/details/6642140</a></span></blockquote>
<p> </p>

<p>（5）截图</p>
<blockquote>$ scrot -bst [file]</blockquote>
<p>然后用鼠标框主目标即可。如果没有制定输出文件路径file，默认输出到用户主目录，并以时间命名。</p>

<p> </p>

<p>路漫漫其修远兮，吾将上下而求索~~~</p>

<p>O(&gt;0&lt;)O</p>

<p> </p>

<p>2012.7.12 更新</p>

<p>找到一篇介绍自己只使用命令行经验的博文，好正点！</p>

<p>http://blog.chavezgu.com/2012/03/07/the-command-line-challenge/</p>

<p>赞同里面循序渐进脱离GUI的方法；</p>
<ul>
	<li>坚持一天只使用命令行！</li>
	<li>坚持一周！！</li>
	<li>坚持一个月！！！</li>
	<li>坚持半年！！！！</li>
</ul>
<p>呵呵～～</p>

<p> </p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Apache和Tomcat]]></title>
    <link href="http://goorockey.github.com/blogs/62001"/>
    <updated>2011-11-22T00:00:00+08:00</updated>
    <id>http://goorockey.github.com/blogs/62001</id>
    <content type="html"><![CDATA[<p>调研了一下Apache和Tomcat：</p>

<p>1、apache 只是一个web服务器，负责响应客户端的请求。</p>

<p>2、apache对于页面请求：<!--more--></p>

<p>如果是静态页面请求，会立刻返回相应的页面；</p>

<p>如果是动态页面请求，apache会根据httpd.conf中AddType的配置，把请求提交给合适的动态脚本解析程序来处理，处理后生成的静态页面返回给apache，再返回给客户端。所以在配置php和jsp这样的环境的时候，都要在httd.conf中添加对应的AddTpye语句。</p>

<p>3、tomcat侧重于是一个Servlet/JSP的容器，但也能可以独立于apache运行，响应html请求</p>

<p>4、tomcat响应静态页面较apache要慢</p>

<p>5、整合apache和tomcat可以有三种方法:JK,http_proxy,ajp_proxy</p>

<p>具体介绍见：<a href="http://www.ibm.com/developerworks/cn/opensource/os-lo-apache-tomcat/">http://www.ibm.com/developerworks/cn/opensource/os-lo-apache-tomcat/</a></p>

<p>JK较老，相对比较稳定，配置比较麻烦</p>

<p>两种proxy模式原理都是让apache做tomcat的代理，配置简单</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[CentOS下安装Apache+php+mysql Tomcat]]></title>
    <link href="http://goorockey.github.com/blogs/60002"/>
    <updated>2011-11-12T00:00:00+08:00</updated>
    <id>http://goorockey.github.com/blogs/60002</id>
    <content type="html"><![CDATA[<p><strong><span style="color: #ff0000; font-size: medium;">一、安装及配置Apache+php+mysql</span></strong></p>

<p><strong><span style="color: #9bbb59;">1、 安装Apache+php+mysql</span></strong></p>

<p>(1) 安装Apache+php+Mysql，php连接mysql的组件</p>
<blockquote>yum -y install httpd php mysql mysql-server php-mysql</blockquote>
<p>(2) 安装mysql扩展</p>
<blockquote>yum -y install mysql-connector-odbc mysql-devel libdbi-dbd-mysql</blockquote>
<p>(3) 安装php的扩展</p>
<blockquote>yum -y install php-gd php-xml php-mbstring php-ldap php-pear php-xmlrpc</blockquote>
<p>(4) 安装apache扩展</p>
<blockquote>yum -y install httpd-manual mod_ssl mod_perl mod_auth_mysql</blockquote>

<!--more-->

<p>或者一次性粘贴安装:</p>
<blockquote>yum -y install httpd php mysql mysql-server php-mysql httpd-manual mod_ssl mod_perl mod_auth_mysql php-mcrypt php-gd php-xml php-mbstring php-ldap php-pear php-xmlrpc mysql-connector-odbc mysql-devel libdbi-dbd-mysql</blockquote>
<p><span style="color: #80ff00;"><strong> </strong></span></p>

<p><strong><span style="color: #9bbb59;">2、配置Apache+php+mysql</span></strong>
&lt;table width="502" border="0" cellspacing="0" cellpadding="2"&gt;</p>
<tbody>
<tr>
<td valign="top" width="223">设置apache为自启动</td>
<td valign="top" width="277">chkconfig httpd on</td>
</tr>
<tr>
<td valign="top" width="223">mysql服务</td>
<td valign="top" width="277">chkconfig –-add mysqld</td>
</tr>
<tr>
<td valign="top" width="223">mysqld服务</td>
<td valign="top" width="277">chkconfig mysqld on</td>
</tr>
<tr>
<td valign="top" width="223">自启动 httpd 服务</td>
<td valign="top" width="277">service httpd start</td>
</tr>
<tr>
<td valign="top" width="223">自启动mysqld服务</td>
<td valign="top" width="277">service mysqld start</td>
</tr>
</tbody>
<p>&lt;/table&gt;
 </p>

<p><span style="color: #ff0000; font-size: medium;"><strong>二、安装和配置Tomcat：</strong></span></p>

<p><strong><span style="color: #9bbb59;">1、安装JDK：</span></strong></p>

<p>为了默认使用Sun的javac作为Java的编译器，首先删除CentOS系统默认的Java编译器–gcj。</p>

<p>（1）查看:</p>
<blockquote>[root@localhost ~ ]#rpm –qa |grep gcj

java-1.5.0-gcj-1.5.0.0-29.1.el6.i686

libgcj-4.4.4-13.el6.i686</blockquote>
<p>（2）卸载</p>
<blockquote>[root@localhost ~ ]#rpm –e java-1.5.0-gcj-1.5.0.0-29.1.el6.i686 --nodeps

[root@localhost ~ ]#rpm –e libgcj-4.4.4-13.el6.i686 --nodeps</blockquote>
<p>（3）检测</p>
<blockquote>[root@localhost ~]# java --version</blockquote>
<p>会出现-bash: /usr/bin/java: No such file or directory</p>

<p>表示卸载成功</p>

<p>（4）安装jdk</p>

<p>从Jdk官网下载安装包，如：</p>

<p>jdk-6u27-linux-i586-rpm.bin</p>
<blockquote>P.S.

由于我的CentOS没有图形界面，下载不方便，

我是先在Windows上访问JDK官网下载安装包，

然后再用Winscp传到CentOS的</blockquote>
<p> </p>

<p>比如安装包保存在/opt/tmp</p>

<p>跳到该目录添加可执行的权限，并执行</p>
<blockquote>chmod 777 jdk-6u27-linux-i586-rpm.bin

./jdk-6u27-linux-i586-rpm.bin</blockquote>
<p>（5）添加环境变量</p>

<p>vi /etc/profile</p>

<p>添加以下内容：</p>
<blockquote>export JAVA_HOME=/usr/java/jdk1.6.0_27

export JAVA_BIN=/usr/java/jdk1.6.0_27/bin

export PATH=$PATH:$JAVA_HOME/bin

export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</blockquote>
<p>保存后，执行java -version 如果有类似以下显示，则表示安装成功：</p>

<p>java version “1.6.0_27”</p>

<p> </p>

<p><strong><span style="color: #9bbb59;">2、安装Tomcat：</span></strong></p>

<p>（1）从Tomcat官网下载 安装包，如：</p>

<p>apache-tomcat-7.0.22.tar.gz</p>

<p>（2）把该压缩包拷贝到/usr/local</p>
<blockquote>cp apache-tomcat-7.0.22.tar.gz /usr/local</blockquote>
<p>（3）跳转到/usr/local，并解压压缩包</p>
<blockquote>cd /usr/local

tar -zxvf apache-tomcat-7.0.22.tar.gz</blockquote>
<p>（4）把解压出来的目录改名为tomcat,并删除拷贝过来的压缩包</p>
<blockquote>rm apache-tomcat-7.0.22 tomcat</blockquote>
<p>（5）执行/usr/local/tomcat/bin/startup.sh ，自动添加环境变量，</p>

<p>（6）测试</p>

<p>访问<a href="http://localhost:8080">http://localhost:8080</a>，出现tomcat默认页面，则表示tomcat安装成功</p>

<p> </p>

<p><strong><span style="color: #9bbb59;">3、配置Tomcat为开机自启动：</span></strong></p>

<p>（1）添加开机daomon脚本</p>

<p>把/usr/local/tomcat/bin/catalina.sh拷贝到/etc/init.d，并命名为tomcat</p>
<blockquote>cp /usr/local/tomcat/bin/catalina.sh /etc/init.d/tomcat</blockquote>
<p>（2）在/etc/init.d/tomcat添加内容：</p>
<blockquote>#!/bin/sh

<span style="color: #ff0000;"># chkconfig: 2345 10 90</span>

<span style="color: #ff0000;"># description:Tomcat service</span>

# Licensed to the Apache Software Foundation (ASF) under one or more

&nbsp;

……

&nbsp;

# $Id: catalina.sh 1073891 2011-02-23 19:23:59Z markt $

# ------------------------------------------------------------------------

<span style="color: #ff0000;">CATALINA_HOME=/opt/tomcat </span>

<span style="color: #ff0000;">JAVA_HOME=/opt/jdk1.6.0_23</span>

&nbsp;

……</blockquote>
<p>（3）添加tomcat服务</p>
<blockquote>chkconfig --add tomcat

service tomcat stop

service tomcat start

chkconfig tomcat on</blockquote>
<p> </p>

<p>搞定！！</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[vim的统计功能]]></title>
    <link href="http://goorockey.github.com/blogs/4012"/>
    <updated>2011-05-19T00:00:00+08:00</updated>
    <id>http://goorockey.github.com/blogs/4012</id>
    <content type="html"><![CDATA[<p> </p>

<p><span style="font-size: medium;">(-_-)??今天遇到个问题：</span></p>

<p><span style="font-size: medium;">想要知道文章里面有多少个单词，要怎么做呢？</span></p>

<p> </p>
<h1><strong>1、直接用vim的命令</strong></h1>
<p>命令模式下按：</p>
<blockquote>g &lt;Ctrl-g&gt;</blockquote>
<p>这样命令行上面就会显示全文总的和当前的：行列数、单词数、字节数。</p>

<p>如果是在visual模式，选中了部分内容再按g+&lt;C-g&gt;，则显示选择部分的对应信息。</p>
<blockquote>更多详见:h g_ctrl-g 和:h v_g_ctrl-g</blockquote>
<p><img title="更多..." src="http://www.goorockey.com/wp-includes/js/tinymce/plugins/wordpress/img/trans.gif" alt="" /><!--more-->
# 2、巧用替换功能</p>
<h4>(1) 统计字段</h4>
<p>先来统计某个字段出现的次数，比如要统计vim,就是：</p>
<blockquote>:%s/vim//gn</blockquote>
<p>然后命令行就会显示vim匹配的次数和匹配的行数了。。。(=0=)/</p>

<p>好，解释一下：
&lt;table width="400" border="0" cellspacing="0" cellpadding="2"&gt;</p>
<tbody>
<tr>
<td valign="top" width="108">%s</td>
<td valign="top" width="292">全文匹配</td>
</tr>
<tr>
<td valign="top" width="108">g</td>
<td valign="top" width="292">匹配行内所有</td>
</tr>
<tr>
<td valign="top" width="108">n</td>
<td valign="top" width="292">*只显示匹配数，不真正地匹配</td>
</tr>
</tbody>
<p>&lt;/table&gt;
对了，关键就在与参数n了，哟！！</p>

<p> </p>
<h4>(2) 统计更多</h4>
<p>好，来用s的匹配模式统计更多：
&lt;table width="576" border="0" cellspacing="0" cellpadding="2"&gt;</p>
<tbody>
<tr>
<td valign="top" width="144">功能</td>
<td valign="top" width="122">命令</td>
<td valign="top" width="308">解释</td>
</tr>
<tr>
<td valign="top" width="144">统计字符数</td>
<td valign="top" width="122">:%s/.//gn</td>
<td valign="top" width="308">. 指代字符</td>
</tr>
<tr>
<td valign="top" width="144">统计单词数</td>
<td valign="top" width="122">:%s/i+//gn</td>
<td valign="top" width="308">i指代英文字母，i+就是一个或连续多个英文字母，所以就是单词了</td>
</tr>
<tr>
<td valign="top" width="144">统计行数</td>
<td valign="top" width="122">:%s/^//gn</td>
<td valign="top" width="308">^指代每行第一个非空字符</td>
</tr>
<tr>
<td valign="top" width="144">精确匹配单词(如vim)</td>
<td valign="top" width="122">:%s/&lt;vim&gt;//gn</td>
<td valign="top" width="308">&lt;指代单词的开始，&gt;指代单词的结束</td>
</tr>
</tbody>
<p>&lt;/table&gt;
(~0~)/ vim真强大啊，掌声加鬼吼！！</p>
<blockquote>更多详见 :h count-items 、  :h su 、   :h search-pattern</blockquote>
<p> 
# P.S.
由于我配置了set hlsearch，每次匹配完都会高亮匹配，直到下一次匹配。</p>

<p>想清除高亮，可以输入命令</p>
<blockquote>:nohl</blockquote>
]]></content>
  </entry>
  
</feed>
