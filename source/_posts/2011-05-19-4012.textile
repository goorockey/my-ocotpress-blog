---
layout: post
title: 'vim的统计功能'
date: 2011-5-19
wordpress_id: 4012
permalink: /blogs/4012
comments: true
categories: linux
tags: linux vim
---
&nbsp;

<span style="font-size: medium;">(-_-)??今天遇到个问题：</span>

<span style="font-size: medium;">想要知道文章里面有多少个单词，要怎么做呢？</span>

&nbsp;
<h1><strong>1、直接用vim的命令</strong></h1>
命令模式下按：
<blockquote>g &lt;Ctrl-g&gt;</blockquote>
这样命令行上面就会显示全文总的和当前的：行列数、单词数、字节数。

如果是在visual模式，选中了部分内容再按g+&lt;C-g&gt;，则显示选择部分的对应信息。
<blockquote>更多详见:h g_ctrl-g 和:h v_g_ctrl-g</blockquote>
<img title="更多..." src="http://www.goorockey.com/wp-includes/js/tinymce/plugins/wordpress/img/trans.gif" alt="" /><!--more-->
# 2、巧用替换功能
<h4>(1) 统计字段</h4>
先来统计某个字段出现的次数，比如要统计vim,就是：
<blockquote>:%s/vim//gn</blockquote>
然后命令行就会显示vim匹配的次数和匹配的行数了。。。(=0=)/

好，解释一下：
<table width="400" border="0" cellspacing="0" cellpadding="2">
<tbody>
<tr>
<td valign="top" width="108">%s</td>
<td valign="top" width="292">全文匹配</td>
</tr>
<tr>
<td valign="top" width="108">g</td>
<td valign="top" width="292">匹配行内所有</td>
</tr>
<tr>
<td valign="top" width="108">n</td>
<td valign="top" width="292">*只显示匹配数，不真正地匹配</td>
</tr>
</tbody>
</table>
对了，关键就在与参数n了，哟！！

&nbsp;
<h4>(2) 统计更多</h4>
好，来用s的匹配模式统计更多：
<table width="576" border="0" cellspacing="0" cellpadding="2">
<tbody>
<tr>
<td valign="top" width="144">功能</td>
<td valign="top" width="122">命令</td>
<td valign="top" width="308">解释</td>
</tr>
<tr>
<td valign="top" width="144">统计字符数</td>
<td valign="top" width="122">:%s/.//gn</td>
<td valign="top" width="308">. 指代字符</td>
</tr>
<tr>
<td valign="top" width="144">统计单词数</td>
<td valign="top" width="122">:%s/i+//gn</td>
<td valign="top" width="308">i指代英文字母，i+就是一个或连续多个英文字母，所以就是单词了</td>
</tr>
<tr>
<td valign="top" width="144">统计行数</td>
<td valign="top" width="122">:%s/^//gn</td>
<td valign="top" width="308">^指代每行第一个非空字符</td>
</tr>
<tr>
<td valign="top" width="144">精确匹配单词(如vim)</td>
<td valign="top" width="122">:%s/&lt;vim&gt;//gn</td>
<td valign="top" width="308">&lt;指代单词的开始，&gt;指代单词的结束</td>
</tr>
</tbody>
</table>
(~0~)/ vim真强大啊，掌声加鬼吼！！
<blockquote>更多详见 :h count-items 、  :h su 、   :h search-pattern</blockquote>
&nbsp;
# P.S.
由于我配置了set hlsearch，每次匹配完都会高亮匹配，直到下一次匹配。

想清除高亮，可以输入命令
<blockquote>:nohl</blockquote>
